<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>æ’è¡Œæ¦œ</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h2>æ’è¡Œæ¦œï¼ˆæœ¬é€±ï¼‰</h2>
        <div style="text-align:center; margin-bottom:12px;">
            <a href="{{ url_for('leaderboard_page') }}?mode=all" class="btn small {% if mode == 'all' %}active{% endif %}" style="margin-right:6px;">å…¨éƒ¨ä½¿ç”¨è€…</a>
            <a href="{{ url_for('leaderboard_page') }}?mode=friends" class="btn small {% if mode == 'friends' %}active{% endif %}">åªçœ‹å¥½å‹</a>
        </div>
        <table class="leaderboard-table">
            <tr>
                <th>åæ¬¡</th>
                <th>ä½¿ç”¨è€…</th>
                <th>ç´¯ç©é»æ•¸</th>
            </tr>
            {% for user in leaderboard %}
            <tr>
                <td>{{ loop.index }}</td>
                <td style="display:flex; align-items:center; gap:8px;">
                    {% if user.avatar %}
                        <img src="{{ user.avatar }}" class="avatar" alt="avatar">
                    {% else %}
                        <div class="avatar placeholder">{{ user.name[0]|upper }}</div>
                    {% endif %}
                    <span>{{ user.name }}</span>
                </td>
                <td>{{ user.points }}</td>
            </tr>
            {% endfor %}
        </table>
        <div class="badge-section">
            <h3>å¾½ç« </h3>
            <ul>
                {% for badge in badges %}
                <li class="badge {% if badge.achieved %}achieved{% endif %}">
                    <span>{{ badge.title }}</span> - <small>{{ badge.desc }}</small>
                    {% if badge.achieved %}<span class="badge-icon">ğŸ…</span>{% endif %}
                </li>
                {% endfor %}
            </ul>
        </div>
        <a href="{{ url_for('index') }}" class="btn">å›é¦–é </a>
    </div>

    <!-- Bottom nav -->
    <div class="bottom-nav">
        <a href="{{ url_for('index') }}" class="nav-item">é¦–é </a>
        <a href="{{ url_for('friends_page') }}" class="nav-item">å¥½å‹</a>
        <a href="{{ url_for('profile_page') }}" class="nav-item">å€‹äºº</a>
        <a href="{{ url_for('checkin') }}" class="nav-item checkin-btn">æ‰“å¡</a>
        <a href="{{ url_for('leaderboard_page') }}" class="nav-item">æ’è¡Œæ¦œ</a>
        <a href="{{ url_for('stats') }}" class="nav-item">åˆ†æ</a>
        <a href="{{ url_for('badges_page') }}" class="nav-item">å¾½ç« </a>
    </div>
    
</body>
</html>
