<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>排行榜</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="container">
        <h2>排行榜（本週）</h2>
        <div style="text-align:center; margin-bottom:12px;">
            <a href="{{ url_for('leaderboard_page') }}?mode=all" class="btn small {% if mode == 'all' %}active{% endif %}" style="margin-right:6px;">全部使用者</a>
            <a href="{{ url_for('leaderboard_page') }}?mode=friends" class="btn small {% if mode == 'friends' %}active{% endif %}">只看好友</a>
        </div>
        <table class="leaderboard-table">
            <tr>
                <th>名次</th>
                <th>使用者</th>
                <th>累積點數</th>
            </tr>
            {% for user in leaderboard %}
            <tr>
                <td>{{ loop.index }}</td>
                <td style="display:flex; align-items:center; gap:8px;">
                    {% if user.avatar %}
                        <img src="{{ user.avatar }}" class="avatar" alt="avatar">
                    {% else %}
                        <div class="avatar placeholder">{{ user.name[0]|upper }}</div>
                    {% endif %}
                    <span>{{ user.name }}</span>
                </td>
                <td>{{ user.points }}</td>
            </tr>
            {% endfor %}
        </table>
        <!-- Badges removed from leaderboard page per UI change request -->
        <a href="{{ url_for('index') }}" class="btn">回首頁</a>
    </div>

    <!-- Bottom nav -->
    <div class="bottom-nav">
        <a href="{{ url_for('index') }}" class="nav-item">首頁</a>
        <a href="{{ url_for('friends_page') }}" class="nav-item">好友</a>
        <a href="{{ url_for('profile_page') }}" class="nav-item">個人</a>
        <a href="{{ url_for('checkin') }}" class="nav-item checkin-btn">打卡</a>
        <a href="{{ url_for('leaderboard_page') }}" class="nav-item">排行榜</a>
        <a href="{{ url_for('stats') }}" class="nav-item">分析</a>
        <a href="{{ url_for('badges_page') }}" class="nav-item">徽章</a>
    </div>
    
</body>
</html>
